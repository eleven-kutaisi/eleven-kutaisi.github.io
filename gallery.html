<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Photo Gallery - Eleven Guest House | Kutaisi, Georgia</title>
    <meta
      name="description"
      content="Explore our photo gallery showcasing the beauty of Eleven Guest House in Kutaisi, Georgia. See our rooms, gardens, and authentic Georgian hospitality."
    />

    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"
    />
    <link
      rel="icon"
      sizes="48x48"
      type="image/x-icon"
      href="images/koba.jpeg"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />
    <link rel="stylesheet" href="css/eleven-gallery.css" />
  </head>

  <body>
    <div class="eleven-guesthouse-container">
      <!-- Navigation -->
      <nav class="navbar navbar-expand-lg navbar-light bg-white fixed-top">
        <div class="container">
          <a class="navbar-brand" href="index.html">
            <div class="eleven-logo">
              <img src="images/koba.jpeg" alt="Eleven Guest House Logo" />
              <span class="logo-text">Eleven Guest House</span>
            </div>
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarSupportedContent"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0 mx-auto">
              <li class="nav-item">
                <a class="nav-link" href="index.html">HOME</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="about.html">ABOUT US</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="rooms.html">ROOMS</a>
              </li>
              <li class="nav-item dropdown">
                <a
                  class="nav-link dropdown-toggle"
                  href="#"
                  id="navbarDropdownMenuLink"
                  role="button"
                  data-bs-toggle="dropdown"
                >
                  EXPERIENCES
                </a>
                <div
                  class="dropdown-menu"
                  aria-labelledby="navbarDropdownMenuLink"
                >
                  <a class="dropdown-item" href="activities.html">ACTIVITIES</a>
                  <a class="dropdown-item" href="kutaisi-attractions.html"
                    >KUTAISI ATTRACTIONS</a
                  >
                </div>
              </li>
              <li class="nav-item">
                <a class="nav-link active" href="gallery.html">GALLERY</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="contact.html">CONTACT</a>
              </li>
            </ul>
            <div class="navbar-contact-info">
              <div class="contact-item">
                <i class="fas fa-phone"></i>
                <span>+995 599 30 40 55</span>
              </div>
              <a
                href="https://wa.me/995571718271"
                target="_blank"
                class="btn btn-primary"
                >BOOK NOW</a
              >
            </div>
          </div>
        </div>
      </nav>

      <!-- Hero Section -->
      <section class="gallery-hero">
        <div
          class="hero-background"
          style="background-image: url('images/eleven/eleven-garden2.jpg')"
        >
          <div class="hero-overlay">
            <div class="container">
              <div class="hero-content">
                <h1>Photo Gallery</h1>
                <p>
                  Discover the beauty and charm of Eleven Guest House through
                  our photo collection
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Gallery Categories -->
      <section class="gallery-categories">
        <div class="container">
          <div class="category-filters">
            <button class="filter-btn" data-filter="dormitory">
              Dormitory
            </button>
            <button class="filter-btn active" data-filter="deluxe">
              Deluxe Rooms
            </button>
            <button class="filter-btn" data-filter="garden">Garden</button>
            <button class="filter-btn" data-filter="common-area">
              Common Area
            </button>
            <button class="filter-btn" data-filter="kutaisi">Kutaisi</button>
          </div>
        </div>
      </section>

      <!-- Photo Gallery -->
      <section class="photo-gallery">
        <div class="container">
          <div class="gallery-grid" id="galleryGrid">
            <!-- Gallery items will be loaded dynamically from configuration -->
          </div>
        </div>
      </section>

      <!-- Reels Section -->
      <section class="reels-section">
        <div class="container">
          <div class="section-header text-center">
            <span class="section-badge">VIDEO REELS</span>
            <h2>Experience Eleven Guest House</h2>
            <p>
              Watch our short video reels to get a feel for our property and
              hospitality
            </p>
          </div>

          <div class="reels-grid">
            <!-- Reel 1 -->
            <div class="reel-item">
              <div class="reel-video">
                <video
                  controls
                  poster="images/rooms/common-area/eleven-car-basement.jpg"
                >
                  <source src="videos/11guest.mp4" type="video/mp4" />
                  Your browser does not support the video tag.
                </video>
              </div>
              <div class="reel-info">
                <h4>Welcome to Eleven Guest House</h4>
                <p>A quick tour of our beautiful property</p>
              </div>
            </div>

            <!-- Reel 2 -->
            <div class="reel-item">
              <div class="reel-video">
                <video controls poster="images/eleven/wine.jpg">
                  <source src="videos/reel-2.mp4" type="video/mp4" />
                  Your browser does not support the video tag.
                </video>
              </div>
              <div class="reel-info">
                <h4>Wine & Dine Experience</h4>
                <p>
                  Experience our homemade wine and traditional Georgian cuisine
                </p>
              </div>
            </div>

            <!-- Reel 3 -->
            <div class="reel-item">
              <div class="reel-video">
                <video controls poster="images/eleven/eleven-grapes.jpg">
                  <source src="videos/reel-3.mp4" type="video/mp4" />
                  Your browser does not support the video tag.
                </video>
              </div>
              <div class="reel-info">
                <h4>Vintage Vibes: Grape Harvest & Pressing</h4>
                <p>
                  Experience our traditional grape harvest and wine-making
                  process
                </p>
              </div>
            </div>

            <!-- Reel 4 - Local Tour -->
            <div class="reel-item">
              <div class="reel-video">
                <video
                  controls
                  poster="images/rooms/kutaisi/kutaisi-bagrati.JPG"
                >
                  <source src="videos/reel-local.mp4" type="video/mp4" />
                  Your browser does not support the video tag.
                </video>
              </div>
              <div class="reel-info">
                <h4>Local Tour with Koba</h4>
                <p>
                  Join Koba on his personal guided tour of Kutaisi's hidden gems
                </p>
              </div>
            </div>
          </div>

          <div class="reels-cta text-center">
            <p>Follow us on social media for more reels and updates!</p>
            <div class="social-links">
              <a
                href="https://www.instagram.com/elevenkutaisi/"
                target="_blank"
                class="social-link"
              >
                <i class="fab fa-instagram"></i>
              </a>
              <a
                href="https://www.facebook.com/ElevenKutaisi"
                target="_blank"
                class="social-link"
              >
                <i class="fab fa-facebook"></i>
              </a>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="cta-section">
        <div class="container">
          <div class="cta-content text-center">
            <h2>Ready to Experience It Yourself?</h2>
            <p>
              Book your stay and create your own memories at Eleven Guest House
            </p>
            <div class="cta-buttons">
              <a
                href="https://wa.me/995571718271"
                target="_blank"
                class="btn btn-primary btn-lg"
                >Book Now</a
              >
              <a href="rooms.html" class="btn btn-outline-light btn-lg"
                >View Rooms</a
              >
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <div class="container">
          <div class="row">
            <div class="col-lg-4">
              <div class="footer-brand">
                <img
                  src="images/koba.jpeg"
                  alt="Eleven Guest House"
                  class="footer-logo"
                />
                <h4>Eleven Guest House</h4>
                <p>Authentic Georgian hospitality in the heart of Kutaisi</p>
              </div>
              <div class="footer-contact">
                <div class="contact-item">
                  <i class="fas fa-map-marker-alt"></i>
                  <span
                    >3rd lane, 11 Lado Asatiani Street, Kutaisi 4600,
                    Georgia</span
                  >
                </div>
                <div class="contact-item">
                  <i class="fas fa-phone"></i>
                  <span>+995 599 30 40 55</span>
                </div>
                <div class="contact-item">
                  <i class="fas fa-envelope"></i>
                  <span>elevenkutaisi@gmail.com</span>
                </div>
              </div>
            </div>
            <div class="col-lg-2 col-md-6">
              <h5>Quick Links</h5>
              <ul class="footer-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="rooms.html">Rooms</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="contact.html">Contact</a></li>
              </ul>
            </div>
            <div class="col-lg-2 col-md-6">
              <h5>Experiences</h5>
              <ul class="footer-links">
                <li><a href="activities.html">Activities</a></li>
                <li>
                  <a href="kutaisi-attractions.html">Kutaisi Attractions</a>
                </li>
                <li><a href="gallery.html">Photo Gallery</a></li>
                <li><a href="about.html">Our Story</a></li>
              </ul>
            </div>
            <div class="col-lg-4">
              <h5>Location</h5>
              <div class="map-container">
                <iframe
                  src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d39832.009934543275!2d42.66704202044849!3d42.26829777508538!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x405c8d3889bd5c49%3A0xc08fbd93fe5a05b3!2sELEVEN%20guest%20house!5e0!3m2!1sen!2sin!4v1724442716559!5m2!1sen!2sin"
                  width="100%"
                  height="200"
                  style="border: 0"
                  allowfullscreen=""
                  loading="lazy"
                  referrerpolicy="no-referrer-when-downgrade"
                ></iframe>
              </div>
            </div>
          </div>
          <hr />
          <div class="footer-bottom">
            <div class="row align-items-center">
              <div class="col-md-6">
                <p>&copy; 2025 Eleven Guest House. All rights reserved.</p>
              </div>
              <div class="col-md-6 text-end">
                <div class="social-links">
                  <a href="#"><i class="fab fa-facebook"></i></a>
                  <a href="#"><i class="fab fa-instagram"></i></a>
                  <a href="#"><i class="fab fa-whatsapp"></i></a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </footer>
    </div>

    <!-- Lightbox Modal -->
    <div class="lightbox-modal" id="lightboxModal">
      <div class="lightbox-content">
        <span class="lightbox-close">&times;</span>
        <img class="lightbox-image" id="lightboxImage" src="" alt="" />
        <div class="lightbox-caption" id="lightboxCaption"></div>
        <button class="lightbox-nav lightbox-prev" id="lightboxPrev">
          <i class="fas fa-chevron-left"></i>
        </button>
        <button class="lightbox-nav lightbox-next" id="lightboxNext">
          <i class="fas fa-chevron-right"></i>
        </button>
      </div>
    </div>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox">
      <div class="lightbox-content">
        <img id="lightbox-image" class="lightbox-image" src="" alt="" />
        <div id="lightbox-caption" class="lightbox-caption"></div>
        <button id="lightbox-close" class="lightbox-close">&times;</button>
        <button id="lightbox-prev" class="lightbox-nav lightbox-prev">
          &lt;
        </button>
        <button id="lightbox-next" class="lightbox-nav lightbox-next">
          &gt;
        </button>
      </div>
    </div>

    <!-- Scripts -->
    <script src="js/bootstrap.bundle.min.js"></script>
    <script src="js/gallery-config.js"></script>
    <script>
      // Gallery functionality
      document.addEventListener("DOMContentLoaded", function () {
        // Load images from configuration
        function loadGalleryImages() {
          try {
            if (typeof loadImagesFromConfig === "function") {
              loadImagesFromConfig();
            } else {
              console.error("loadImagesFromConfig function not found");
            }
          } catch (error) {
            console.error("Error loading gallery images:", error);
          }
        }

        // Try to load images immediately
        loadGalleryImages();

        // Also try after a short delay in case the script loads later
        setTimeout(loadGalleryImages, 100);

        // Video control - ensure only one video plays at a time
        function setupVideoControls() {
          const videos = document.querySelectorAll(".reel-video video");
          console.log("Found videos:", videos.length); // Debug log

          // Remove any existing event listeners to prevent duplicates
          videos.forEach((video) => {
            video.removeEventListener("play", video.pauseOthersHandler);
          });

          videos.forEach((video) => {
            // Create a handler function for this specific video
            video.pauseOthersHandler = function () {
              console.log("Video started playing:", video.src); // Debug log
              // Pause all other videos when this one starts playing
              videos.forEach((otherVideo) => {
                if (otherVideo !== video && !otherVideo.paused) {
                  otherVideo.pause();
                  console.log("Paused video:", otherVideo.src); // Debug log
                }
              });
            };

            // Add the event listener
            video.addEventListener("play", video.pauseOthersHandler);
          });
        }

        // Setup video controls after a short delay to ensure DOM is ready
        setTimeout(setupVideoControls, 100);

        // Also setup video controls when the page is fully loaded
        window.addEventListener("load", setupVideoControls);

        // Gallery filter functionality
        const filterButtons = document.querySelectorAll(".filter-btn");
        let galleryItems = document.querySelectorAll(".gallery-item");

        // Update gallery items reference after dynamic loading
        function updateGalleryItemsReference() {
          galleryItems = document.querySelectorAll(".gallery-item");
        }

        // Update visible items function
        function updateVisibleItems() {
          updateGalleryItemsReference();
          const activeFilter = document.querySelector(".filter-btn.active");
          const category = activeFilter
            ? activeFilter.getAttribute("data-filter")
            : "deluxe";

          galleryItems.forEach((item) => {
            const itemCategory = item.getAttribute("data-category");
            if (category === "all" || itemCategory === category) {
              item.style.display = "block";
            } else {
              item.style.display = "none";
            }
          });
        }

        // Filter button click handlers
        filterButtons.forEach((button) => {
          button.addEventListener("click", function () {
            // Remove active class from all buttons
            filterButtons.forEach((btn) => btn.classList.remove("active"));
            // Add active class to clicked button
            this.classList.add("active");
            // Update visible items
            updateVisibleItems();
          });
        });

        // Lightbox functionality
        let currentImageIndex = 0;
        let visibleImages = [];

        function updateVisibleImages() {
          updateGalleryItemsReference();
          visibleImages = Array.from(galleryItems).filter(
            (item) => item.style.display !== "none"
          );
        }

        function openLightbox(index) {
          updateVisibleImages();
          currentImageIndex = index;
          const lightbox = document.getElementById("lightbox");
          const lightboxImage = document.getElementById("lightbox-image");
          const lightboxCaption = document.getElementById("lightbox-caption");

          if (
            visibleImages[currentImageIndex] &&
            lightbox &&
            lightboxImage &&
            lightboxCaption
          ) {
            const img = visibleImages[currentImageIndex].querySelector("img");
            if (img) {
              lightboxImage.src = img.src;
              lightboxImage.alt = img.alt;
              lightboxCaption.innerHTML =
                img.getAttribute("data-caption") || "";
              lightbox.classList.add("active");
              document.body.style.overflow = "hidden";
            }
          }
        }

        function closeLightbox() {
          const lightbox = document.getElementById("lightbox");
          if (lightbox) {
            lightbox.classList.remove("active");
            document.body.style.overflow = "";
          }
        }

        function showImage(index) {
          if (index >= 0 && index < visibleImages.length) {
            currentImageIndex = index;
            const lightboxImage = document.getElementById("lightbox-image");
            const lightboxCaption = document.getElementById("lightbox-caption");
            const img = visibleImages[currentImageIndex].querySelector("img");

            if (lightboxImage && lightboxCaption && img) {
              lightboxImage.src = img.src;
              lightboxImage.alt = img.alt;
              lightboxCaption.innerHTML =
                img.getAttribute("data-caption") || "";
            }
          }
        }

        // Gallery item click handlers
        function addGalleryItemListeners() {
          updateGalleryItemsReference();
          galleryItems.forEach((item, index) => {
            item.addEventListener("click", () => {
              updateVisibleImages();
              const visibleIndex = visibleImages.indexOf(item);
              if (visibleIndex !== -1) {
                openLightbox(visibleIndex);
              }
            });
          });
        }

        // Lightbox close and navigation
        const lightboxClose = document.getElementById("lightbox-close");
        const lightbox = document.getElementById("lightbox");
        const lightboxPrev = document.getElementById("lightbox-prev");
        const lightboxNext = document.getElementById("lightbox-next");

        if (lightboxClose) {
          lightboxClose.addEventListener("click", closeLightbox);
        }

        if (lightbox) {
          lightbox.addEventListener("click", function (e) {
            if (e.target === this) {
              closeLightbox();
            }
          });
        }

        if (lightboxPrev) {
          lightboxPrev.addEventListener("click", () => {
            showImage(currentImageIndex - 1);
          });
        }

        if (lightboxNext) {
          lightboxNext.addEventListener("click", () => {
            showImage(currentImageIndex + 1);
          });
        }

        // Keyboard navigation
        document.addEventListener("keydown", function (e) {
          const lightbox = document.getElementById("lightbox");
          if (lightbox && lightbox.classList.contains("active")) {
            if (e.key === "Escape") {
              closeLightbox();
            } else if (e.key === "ArrowLeft") {
              showImage(currentImageIndex - 1);
            } else if (e.key === "ArrowRight") {
              showImage(currentImageIndex + 1);
            }
          }
        });

        // Initialize gallery item listeners after dynamic loading
        setTimeout(addGalleryItemListeners, 100);
      });
    </script>
  </body>
</html>
